{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/executing-markdown-codeblocks-with-github-actions","result":{"data":{"markdownRemark":{"excerpt":"Let's get started, so you might say what are we going to do? Let's break it down:- We are going to create a GithubAction which will extractâ€¦","html":"<p>Let's get started, so you might say what are we going to do? Let's break it down:-</p>\n<p>We are going to create a <a href=\"https://github.com/features/actions\">GithubAction</a> which will extract the markdown codeblock\r\n<em>(js)</em> from the specified repo's issues and then execute the javascript and add a comment with the output.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0641dafad61797d720dcbfc4233bc5d7/63ec5/issue_example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVQoz5WSy47UMBBF+//X/AHrYYEQ8BGIxWwGMYKRQN2TSSed+P2I7YPshKZbDCBKOqqyXa44t2pXSsErT1SBaZqZ5xkpVfN1vd8fEFIRl4VqNf9v7GrSzdf3vLh9yaF75PHQ0ffHxjAMdF2HEBJrHSkl/mWt4If+jo/TJ3wIOB/wIRLiQoyJGJcWO7fup1z+SM7bC1/dvOHh8zcG6fn+NNHPdmUyHGfH02QQLqMCSF+uqHndydALR0iFXQGs1Tjvm1ZCKZQ2CKnbWirNvHmpzIZGafvsK3dVyGq5FIwJCOkQ2iK1RSiDdVWG2KRYiSsh4sMqh99kyZcFq3m/YGxEu9AKGeuJS1qJ6RyHi/iSs4a3d/f0w4SLGe3q1xN2w/il7fulXFH3jE9nam76WfD123fcf3lglJ59P3OcLYNwjNK1WLiEDqBCadRY2NQaNsrAUdh2d23KxS8LIdpAn04nlm2QodRp/h3Kr/PN1z7s6lnOmZQz0jjGWTMKjfER41asf5523nxo6+su58KSciNt/n+pTfkB02alPWhun4MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GithubAction automatically executes the code\"\n        title=\"GithubAction automatically executes the code\"\n        src=\"/static/0641dafad61797d720dcbfc4233bc5d7/fcda8/issue_example.png\"\n        srcset=\"/static/0641dafad61797d720dcbfc4233bc5d7/12f09/issue_example.png 148w,\n/static/0641dafad61797d720dcbfc4233bc5d7/e4a3f/issue_example.png 295w,\n/static/0641dafad61797d720dcbfc4233bc5d7/fcda8/issue_example.png 590w,\n/static/0641dafad61797d720dcbfc4233bc5d7/63ec5/issue_example.png 812w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">GithubAction automatically executes the code</figcaption>\n  </figure></p>\n<h2 id=\"Setting-Up\" style=\"position:relative;\"><a href=\"#Setting-Up\" aria-label=\"Setting Up permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting Up</h2>\n<p>Let's start simply by installing all the required dependencies first.</p>\n<p><strong>Initialize NPM:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\">npm init</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><strong>Installing dependencies:</strong></p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/@octokit/rest\">@octokit/rest</a></li>\n<li><a href=\"https://www.npmjs.com/package/markdown-parser\">markdown-parser</a></li>\n<li><a href=\"https://www.npmjs.com/package/vm2\">vm2</a></li>\n<li><a href=\"https://www.npmjs.com/package/dotenv\">dotenv</a></li>\n</ul>\n<p>We are going to use <a href=\"https://www.npmjs.com/package/@octokit/rest\">@octokit/rest</a> for fetching all the issues and for\r\ncommenting on the issues. octokit/rest provides a very nice wrapper around\r\n<a href=\"https://developer.github.com/v3/\">Github's API</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\">npm i @octokit/rest</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>To parse the markdown and extract the codeblock we are also going to install\r\n<a href=\"https://www.npmjs.com/package/markdown-parser\">markdown-parser</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\">npm i markdown-parser</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Now maybe the most crucial package for this project, <code class=\"language-text\">vm2</code>.</p>\n<p>vm2 is a sandbox that can run untrusted code with whitelisted Node's built-in modules. Securely!</p>\n<blockquote>\n<p>If you don't use vm2 then, someone could actually log your environment variables and get your access token and also execute any malicious code.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sh line-numbers\"><code class=\"language-sh\">npm i vm2</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Okay! Now we have everything set up nicely, let's get started.</p>\n<h2 id=\"Setting-up-environment-variables\" style=\"position:relative;\"><a href=\"#Setting-up-environment-variables\" aria-label=\"Setting up environment variables permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up environment variables</h2>\n<p>To use Github's API to create comments and fetch the issues we are going to need a <strong>Personal Access Token\r\n(PERSONAL_TOKEN)</strong></p>\n<p>Here's how you can\r\n<a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\">create your Personal Access Token</a></p>\n<blockquote>\n<p>You should <em>not upload, share, or give Personal Access Tokens</em> to anyone. Otherwise, someone could get access to your\r\nGitHub account.</p>\n</blockquote>\n<p><strong>Using personal access token in local development:</strong></p>\n<p>For this, we are going to use <code class=\"language-text\">dotenv</code></p>\n<p>In your root directory create a file called <code class=\"language-text\">.env</code> (without extension) and add this line to it with your personal token\r\nwhich you generated previously.</p>\n<p>After that, you should also create a\r\n<a href=\"https://github.com/anuraghazra/GithubActionsPlayground/blob/master/.gitignore\">.gitignore</a> file so that your .env wont\r\nget uploaded in GitHub.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">PERSONAL_TOKEN=yourtoken123</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>And then, in index.js file require the dotenv module.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>You might say okay that would work in my local machine but how will GitHub know about my personal access token then?\r\nThe answer is GitHub secrets.</p>\n<p>To add a secret env variable to your GitHub repo go to your repo settings and you'll see a <code class=\"language-text\">secrets</code> tab like this and\r\nClick \"Add a new secret\".</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2460e1c56c4d13f5ac9a9f559530092a/1be7e/github-secrets.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVQoz5VS2W4EIQzj/3+zTyu1HSaQcITgiszOao9W6kayYnEEOyTU1iClIrM8ZJGDp8yeWYrj4BU5M/bLB2T/QteB1hW9K0KpitoUYwyMYVBVbFsEi2DFnNNxz0/YhOOMtRa4Duw8YNdLZoYYdxARRARZBMwMooTM7DzzobqUglqrn2ut+f2QRUGiq/7xqpnb3CkjbhG0bUiU/IGUM1JKoJSRuN2cLVcrHwWLYksKHeYq5zS0bpA+0aXCiJYX/B7zpQ2Bq+E7KZb1VfTo14krm/PfCG4n11tTzc7Nuw/5U+FrhFIauppbXb+8eog3VT0ojCS4fO7gsuax+Uw9j8s7EUpTEHe0Plzds8J3C/4ATnYTwmYnQ7IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github, adding a new repo secret (click to enlarge)\"\n        title=\"Github, adding a new repo secret (click to enlarge)\"\n        src=\"/static/2460e1c56c4d13f5ac9a9f559530092a/fcda8/github-secrets.png\"\n        srcset=\"/static/2460e1c56c4d13f5ac9a9f559530092a/12f09/github-secrets.png 148w,\n/static/2460e1c56c4d13f5ac9a9f559530092a/e4a3f/github-secrets.png 295w,\n/static/2460e1c56c4d13f5ac9a9f559530092a/fcda8/github-secrets.png 590w,\n/static/2460e1c56c4d13f5ac9a9f559530092a/efc66/github-secrets.png 885w,\n/static/2460e1c56c4d13f5ac9a9f559530092a/1be7e/github-secrets.png 1059w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Github, adding a new repo secret (click to enlarge)</figcaption>\n  </figure></p>\n<p>After clicking \"Add a new secret\" add a name of the secret \"PERSONAL_TOKEN\" and in value field, add your token.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/98b7739fba85cf36c6772e6f3a2d4c3b/5e3a3/github-secrets2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQ4y62Sz47bIBCH/cJ9g5577hO1r7BSTz1sD9V21zaOg435Y2D4KpxsNom2rRJ1pI+BQfxmgGmMMTz9esaYhf9hzbqumMXivMdvBJxz27zGlmU5xj3Ove77U2wjBKx15Jxp6oGuaxnHHarveWlbVK/olaLtjms10KuBtu1Qu5F2WBi1fV9QSiEkcEEIUSjlUHq547qlFJoYE9o4QiwkOW39hbfD14gITUyJp5cd3WDod4ZxXpmdMNnMZOWMjLaCtysyTQeRM+Fqm2BKmedeo7TbmFxm8QXj5YLFC7MvBPcmeG0ipQom9mrAzjNRa5Ix2+P+ERFSgVrIK/HocxaaOiyzQY977LDDTzNrzKwx3Uyqv1yzpiwkKcQCsfqYtqw3cS54nelmsZQvKzxkOPosd133QtCnuBFCIIx7YljvqzBlmjFoPn77zIeHT3x9/AImkIu827j/4tDYOfGof/J9/IFezalBa0/djvAbl9KV59TVWrIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github, adding a new repo secret 2 (click to enlarge)\"\n        title=\"Github, adding a new repo secret 2 (click to enlarge)\"\n        src=\"/static/98b7739fba85cf36c6772e6f3a2d4c3b/fcda8/github-secrets2.png\"\n        srcset=\"/static/98b7739fba85cf36c6772e6f3a2d4c3b/12f09/github-secrets2.png 148w,\n/static/98b7739fba85cf36c6772e6f3a2d4c3b/e4a3f/github-secrets2.png 295w,\n/static/98b7739fba85cf36c6772e6f3a2d4c3b/fcda8/github-secrets2.png 590w,\n/static/98b7739fba85cf36c6772e6f3a2d4c3b/5e3a3/github-secrets2.png 763w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Github, adding a new repo secret 2 (click to enlarge)</figcaption>\n  </figure></p>\n<p>Now we are all good to go, let's get started with the coding now.</p>\n<h2 id=\"Lets-Code-Now\" style=\"position:relative;\"><a href=\"#Lets-Code-Now\" aria-label=\"Lets Code Now permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Let's Code Now</h2>\n<p>In the index.js file, we are going to require all the necessary dependencies 1st</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n<span class=\"token keyword\">const</span> Octokit <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@octokit/rest'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> Parser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'markdown-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">VM</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'vm2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now let's also initialize <code class=\"language-text\">VM2</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// initialize VM</span>\r\n<span class=\"token keyword\">const</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VM</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">timeout</span><span class=\"token operator\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">sandbox</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">eval</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>To work with Octokit let's authorize our PERSONAL_TOKEN and initialize Octokit, and also let's initialize\r\nmarkdown-parser</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// initialize markdown-parser</span>\r\n<span class=\"token keyword\">const</span> parser <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Parser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// initialize octokit</span>\r\n<span class=\"token keyword\">const</span> octokit <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Octokit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">auth</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PERSONAL_TOKEN</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"Octokit\" style=\"position:relative;\"><a href=\"#Octokit\" aria-label=\"Octokit permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Octokit</h2>\n<p><strong>Listing all the issues in the repo:</strong></p>\n<p>To get all the issues of our repo, we are going to use octokit's API to fetch them.</p>\n<p>You may have noticed we also used an <a href=\"https://javascript.info/async-await\">async function</a> to make things nice and\r\nclean.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// get data</span>\r\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> issuesRes <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> octokit<span class=\"token punctuation\">.</span>issues<span class=\"token punctuation\">.</span><span class=\"token function\">listForRepo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">owner</span><span class=\"token operator\">:</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">repo</span><span class=\"token operator\">:</span> <span class=\"token string\">'my-awesome-repo'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>issuesRes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// all issues</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now we need to loop through all the issues and parse the markdown to find the <code class=\"language-text\">markdown codeblock</code> and use <code class=\"language-text\">vm.run()</code> to run the codeblock.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// get data</span>\r\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> issuesRes <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> octokit<span class=\"token punctuation\">.</span>issues<span class=\"token punctuation\">.</span><span class=\"token function\">listForRepo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">owner</span><span class=\"token operator\">:</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">repo</span><span class=\"token operator\">:</span> <span class=\"token string\">'my-awesome-repo'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// loop thought all the issues NOTE: PR are also considered as issues</span>\r\n  issuesRes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">issue<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> issueNumber <span class=\"token operator\">=</span> issue<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> issueBody <span class=\"token operator\">=</span> issue<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// parse markdown</span>\r\n    parser<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>issueBody<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token comment\">// we got the codeblock from the issue</span>\r\n      <span class=\"token keyword\">let</span> code <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>codes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>code<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\n,</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">gim</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token comment\">// running the codeblock with vm.run()</span>\r\n      <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> vm<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>consoleOverwriteScript<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>code<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\r\n      \r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  \r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Almost done! Bare with me.</p>\n<h2 id=\"Creating-Comments\" style=\"position:relative;\"><a href=\"#Creating-Comments\" aria-label=\"Creating Comments permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Comments</h2>\n<p>Now lastly, we need to create the comment with octokit's api, and we are all set.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// outside the async function add a new this new function</span>\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">createComment</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">msg<span class=\"token punctuation\">,</span> issueNumber</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">await</span> octokit<span class=\"token punctuation\">.</span>issues<span class=\"token punctuation\">.</span><span class=\"token function\">createComment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">owner</span><span class=\"token operator\">:</span> <span class=\"token string\">'username'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">repo</span><span class=\"token operator\">:</span> <span class=\"token string\">'my-awesome-repo'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">issue_number</span><span class=\"token operator\">:</span> issueNumber<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">**Code executed [bot]:**\\n\\n\\`\\`\\`bash\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\\n\\`\\`\\`</span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">createComment</code> function will take the msg (outputted result of the code) and an <em>issueNumber</em> so it can comment on the right issue.</p>\n<p>Let's continue with our code and finish it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// inside async function</span>\r\n<span class=\"token operator\">...</span>\r\n    <span class=\"token comment\">// parse markdown</span>\r\n    parser<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>issueBody<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token comment\">// vm is acting weirdly when setting console log twice</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> consoleOverwriteScript <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token keyword\">let</span> code <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>codes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>code<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\n,</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">igm</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> vm<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>consoleOverwriteScript<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>code<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\r\n\r\n      <span class=\"token function\">createComment</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> issueNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token operator\">...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now you might notice a new variable called <code class=\"language-text\">consoleOverwriteScript</code>, it's kinda weird, and you should not do this in production apps.</p>\n<p>What it does is, it will overwrite the native <code class=\"language-text\">console.log</code> functionality so it can also return the value it logged. see how it looks</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// index.js</span>\r\n\r\n<span class=\"token comment\">// DONT DO THIS</span>\r\n<span class=\"token keyword\">let</span> consoleOverwriteScript <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\nconsole.oldLog = console.log;\r\nconsole.log = function (value) {\r\n  console.oldLog(value);\r\n  return value;\r\n};\r\n</span><span class=\"token template-punctuation string\">`</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I hope you understand what I'm doing here, and I know it's rather funky.</p>\n<p>Now we are all good to go. If you run <code class=\"language-text\">node index.js</code>, you should see it working locally.</p>\n<h2 id=\"Github-Actions\" style=\"position:relative;\"><a href=\"#Github-Actions\" aria-label=\"Github Actions permalink\" class=\"gatsby-remark-autolink before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Actions</h2>\n<p>Setting up Github Actions is relatively simple at this point because we already did everything else.</p>\n<p>So let's jump right into it.</p>\n<p>create a new folder in your root dir called <code class=\"language-text\">.github</code> and inside that create another directory called <code class=\"language-text\">workflows</code></p>\n<p>(just copy-paste this whole yml)</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yml line-numbers\"><code class=\"language-yml\"><span class=\"token comment\"># .github/workflows/code.yml</span>\r\n\r\n<span class=\"token comment\"># name of the action</span>\r\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ExecuteCodeBlock\r\n\r\n<span class=\"token comment\"># whenever a new issue is opened, edited, closed run this action</span>\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">issues</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>opened<span class=\"token punctuation\">,</span> edited<span class=\"token punctuation\">,</span> deleted<span class=\"token punctuation\">,</span> closed<span class=\"token punctuation\">,</span> reopened<span class=\"token punctuation\">,</span> labeled<span class=\"token punctuation\">,</span> unlabeled<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n\r\n    <span class=\"token comment\"># checkout</span>\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> setup node\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"10.x\"</span>\r\n\r\n      <span class=\"token comment\"># setup cache</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Cache node modules\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> node_modules\r\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> runner.os <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>node<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> hashFiles('<span class=\"token important\">**/package-lock.json')</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">restore-keys</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n            ${{ runner.os }}-node-</span>\r\n      \r\n      <span class=\"token comment\"># run our nodejs code</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run Code\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          npm i\r\n          node index.js</span>\r\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">CI</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n          <span class=\"token key atrule\">PERSONAL_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.PERSONAL_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token comment\"># we already created this PERSONAL_TOKEN</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>YES! We are done, now push everything to GitHub and see the magic happen.</p>\n<p>Whenever a new issue is opened, edited, closed, this action will run and comment down the output of the codeblock.</p>\n<blockquote>\n<p>here are a list of <a href=\"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/events-that-trigger-workflows\">all events that GithubActions supports</a></p>\n</blockquote>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec8c4141f8860dd339e864ba18c05687/c45c7/github-action-running.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQoz53PXWvTUBwG8HwLRZjWtemapE3TtEvaJtu64Y1fxg/gd9jWru1mHYgvoNfihQgiiK9FxPnCuZlXOlrbbknbvDXJTh9phmywXXngx/P/PxwOHMZxQ5iWj6Oxj67h4WBgwzBMOI4D2/HguB5sx43mk3Then7UD44MjCwb5nCM4cjC2HLAHIz66PYN9A8NONHFCTAN8b+HMd0ePHsI+NZJQz3ce/AI9e0WmjstbFTr2KjVT7NWx3p1K9qbd+6isdNCY7uF6lYz6pjH7wZoveph9/Uh7n+wsPlsH1yuhPhCGjFWwKW5eVy+yNU4ricFxFge1xIcrsTYqGNe/jDx/EsfL76ZePPTx9OPv1DQ15Av6lDKy+DFPJJ8FklBOifBiRGWE6M9lZHBABSnAHs4QGl5DTlVQ26xjPmFNOKpTOTs/O+xs1heAuP5IZ1xvIAeT0F/d/5QVV+lqlahi+UVKqsalVWdyopGM7JKUxmZJgWJxlOZC4iUCcIQQRBi4geYAuh0eygurUJWdVRu3IRSXoGiVSAVShDzRQhSAan07MvZc1g+CyYIj8nMxA/IFCCdbo+oSxUiKSUiKxph+SxJcGKUc3GePHl4m3xt18int1Wy126SvXaDfH5fJ/vfd8nm+i3yF3iK2SoFL4OQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github action running (Click to enlarge)\"\n        title=\"Github action running (Click to enlarge)\"\n        src=\"/static/ec8c4141f8860dd339e864ba18c05687/fcda8/github-action-running.png\"\n        srcset=\"/static/ec8c4141f8860dd339e864ba18c05687/12f09/github-action-running.png 148w,\n/static/ec8c4141f8860dd339e864ba18c05687/e4a3f/github-action-running.png 295w,\n/static/ec8c4141f8860dd339e864ba18c05687/fcda8/github-action-running.png 590w,\n/static/ec8c4141f8860dd339e864ba18c05687/efc66/github-action-running.png 885w,\n/static/ec8c4141f8860dd339e864ba18c05687/c83ae/github-action-running.png 1180w,\n/static/ec8c4141f8860dd339e864ba18c05687/c45c7/github-action-running.png 1346w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Github action running (Click to enlarge)</figcaption>\n  </figure></p>\n<p>That's all, folks!</p>\n<p>Hopefully, this post was helpful to you, and you learned something about \"Github actions\". Now i encourage you also to create your own Action and have fun with it. Tinker with things and also octokit's API to see what cool stuff you can also make. and if you created anything cool, don't hesitate to <strong>share it with me.</strong></p>\n<hr>\n<p>NOTE: I disabled GitHub action on this repo, so someone cleaver than me doesn't exploit anything.</p>\n<p><strong><a href=\"https://github.com/anuraghazra/GithubActionsPlayground\">See Full Code on GitHub</a></strong></p>\n<p><strong>Useful resources:-</strong></p>\n<ul>\n<li><a href=\"https://octokit.github.io/rest.js/\">Octokit Docs</a></li>\n<li><a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\">Creating A Personal Access Token</a></li>\n<li><a href=\"https://github.com/actions\">Lots Of Actions</a></li>\n<li><a href=\"https://github.blog/2019-08-08-github-actions-now-supports-ci-cd/\">GitHub Actions now supports CI/CD, free for public repositories - Blog</a></li>\n</ul>","timeToRead":7,"id":"6408f02e-09ca-56d6-b499-d72ea637d32f","frontmatter":{"date":"November 11, 2019","title":"Executing Markdown Codeblocks With Github Actions"}}},"pageContext":{"slug":"/blog/executing-markdown-codeblocks-with-github-actions"}},"staticQueryHashes":["1033876704","1048528189","1171132337","2312248967","3004019075","3435786681","3983789453","550521386","593719826","678625474"]}